{
  "name": "My workflow 6 copy",
  "nodes": [
    {
      "parameters": {
        "triggerTimes": {
          "item": [
            {
              "mode": "custom",
              "cronExpression": "0 6 * * *"
            }
          ]
        }
      },
      "name": "Cron4",
      "type": "n8n-nodes-base.cron",
      "typeVersion": 1,
      "position": [
        -6880,
        -18100
      ],
      "id": "552b5dab-f5ec-406a-866d-51fa3de6a57d"
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "https://api.openai.com/v1/chat/completions",
        "jsonParameters": true,
        "options": {},
        "bodyParametersJson": "{\n  \"model\": \"gpt-3.5-turbo\",\n  \"messages\": [\n    {\n      \"role\": \"system\",\n      \"content\": \"–¢—ã –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –º–∞—Ä–∫–µ—Ç–æ–ª–æ–≥ –∏ —Å—Ü–µ–Ω–∞—Ä–∏—Å—Ç Instagram Reels. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤–∏—Ä—É—Å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏ –ª–∞–∫–æ–Ω–∏—á–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ä–∞–∑—É —Ü–µ–ø–ª—è—é—Ç –≤–Ω–∏–º–∞–Ω–∏–µ –∏ –¥–æ–Ω–æ—Å—è—Ç —Å—É—Ç—å.\"\n    },\n    {\n      \"role\": \"user\",\n      \"content\": \"–°–æ–∑–¥–∞–π **–∑–∞–≥–æ–ª–æ–≤–æ–∫** –∏ **–∫—Ä–∞—Ç–∫–æ–µ, —Ü–µ–ø–ª—è—é—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ** –¥–ª—è Instagram Reels –Ω–∞ —Ç–µ–º—É: [–£–ö–ê–ñ–ò –¢–ï–ú–£ –ó–î–ï–°–¨].\\n\\nüîπ **–ó–∞–≥–æ–ª–æ–≤–æ–∫** ‚Äî –æ–¥–Ω–æ —Ü–µ–ø–ª—è—é—â–µ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ, –ø—Ä–æ–≤–æ–∫–∞—Ü–∏–æ–Ω–Ω–æ–µ, –∫–ª–∏–∫–±–µ–π—Ç–Ω–æ–µ, –≤—ã–∑—ã–≤–∞—é—â–µ–µ –∏–Ω—Ç–µ—Ä–µ—Å, –Ω–æ –±–µ–∑ —Ñ–µ–π–∫–∞. –ù–∏–∫–∞–∫–∏—Ö —ç–º–æ–¥–∑–∏ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ.\\n\\nüîπ **–û–ø–∏—Å–∞–Ω–∏–µ** ‚Äî –ø–∏—à–∏ –∂–∏–≤—ã–º, —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–º —è–∑—ã–∫–æ–º. –ú–∞–∫—Å–∏–º—É–º 2‚Äì3 –∞–±–∑–∞—Ü–∞ –∏–ª–∏ 300 —Å–∏–º–≤–æ–ª–æ–≤. –ü–µ—Ä–µ–¥–∞–π —Å—É—Ç—å –≤–∏–¥–µ–æ, —É—Å–∏–ª–∏ –∏–Ω—Ç–µ—Ä–µ—Å, –¥–æ–±–∞–≤—å –ª—ë–≥–∫–∏–π —Ç—Ä–∏–≥–≥–µ—Ä –∏–ª–∏ –≤–æ–ø—Ä–æ—Å. –ó–∞–≤–µ—Ä—à–∏ –ø—Ä–æ—Å—Ç—ã–º –ø—Ä–∏–∑—ã–≤–æ–º –∫ –¥–µ–π—Å—Ç–≤–∏—é (—Å–º–æ—Ç—Ä–∏, –ø–∏—à–∏, –¥–µ–ª–∞–π).\\n\\n–í–µ—Ä–Ω–∏ –æ—Ç–≤–µ—Ç —Å—Ç—Ä–æ–≥–æ –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ:\\n\\n–ó–∞–≥–æ–ª–æ–≤–æ–∫: [—Ç–µ–∫—Å—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞]\\n–û–ø–∏—Å–∞–Ω–∏–µ: [–∫—Ä–∞—Ç–∫–æ–µ, –≤–æ–≤–ª–µ–∫–∞—é—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ]\"\n    }\n  ]\n}\n",
        "headerParametersJson": "{\n  \"Authorization\": \"Bearer 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\",\n  \"Content-Type\": \"application/json\"\n}\n"
      },
      "name": "GPT Generate2",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        -6680,
        -18100
      ],
      "id": "ae733661-1984-412d-bdea-d2857b9c496f"
    },
    {
      "parameters": {
        "functionCode": "const files = items; // –∫–∞–∂–¥—ã–π item ‚Äî —ç—Ç–æ —Ñ–∞–π–ª\nif (!files.length) {\n  throw new Error('–ù–µ—Ç —Ñ–∞–π–ª–æ–≤ –¥–ª—è –≤—ã–±–æ—Ä–∞');\n}\n\nconst idx = Math.floor(Math.random() * files.length);\n\nreturn [\n  {\n    json: {\n      fileId: files[idx].json.id,\n      fileName: files[idx].json.name\n    }\n  }\n];\n"
      },
      "name": "Pick Random2",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [
        -6140,
        -18100
      ],
      "id": "14457556-33f5-449e-9cc3-0d1f45250823"
    },
    {
      "parameters": {
        "functionCode": "const content = items[0].json.choices?.[0]?.message?.content || '';\n\n// –ò–∑–≤–ª–µ–∫–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ (–æ–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—ã–π, –ø–æ—Å–ª–µ \"–ó–∞–≥–æ–ª–æ–≤–æ–∫:\")\nconst titleMatch = content.match(/–ó–∞–≥–æ–ª–æ–≤–æ–∫:\\s*[\"‚Äú]?(.+?)[\"‚Äù]?\\n/);\n\n// –ò–∑–≤–ª–µ–∫–∞–µ–º –æ–ø–∏—Å–∞–Ω–∏–µ (–≤—Å—ë, —á—Ç–æ –ø–æ—Å–ª–µ \"–û–ø–∏—Å–∞–Ω–∏–µ:\")\nconst descriptionMatch = content.match(/–û–ø–∏—Å–∞–Ω–∏–µ:\\s*([\\s\\S]*)/);\n\n// –ß–∏—Å—Ç–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç\nconst title = titleMatch ? titleMatch[1].trim() : '';\nconst description = descriptionMatch ? descriptionMatch[1].trim() : '';\n\nreturn [\n  {\n    json: {\n      title,\n      description\n    }\n  }\n];\n"
      },
      "name": "Caption Source2",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [
        -6500,
        -18100
      ],
      "id": "f04a9c91-83d7-4ae9-b28a-0d8c8c679013"
    },
    {
      "parameters": {
        "authentication": "airtableTokenApi",
        "operation": "list",
        "application": {
          "__rl": true,
          "value": "appvifz0ot1GllmI6",
          "mode": "id"
        },
        "table": {
          "__rl": true,
          "value": "tblOnteWFMxZZqK8m",
          "mode": "id"
        },
        "additionalOptions": {}
      },
      "name": "Check Duplicate2",
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 1,
      "position": [
        -6660,
        -17860
      ],
      "id": "5f32eae4-5dbe-4b68-8208-90a20916bf82",
      "credentials": {
        "airtableTokenApi": {
          "id": "j0A9W6lTtOFzjTdr",
          "name": "Reels –ó–∞–≤–æ–¥"
        }
      }
    },
    {
      "parameters": {
        "authentication": "airtableTokenApi",
        "operation": "append",
        "application": {
          "__rl": true,
          "value": "appvifz0ot1GllmI6",
          "mode": "id"
        },
        "table": {
          "__rl": true,
          "value": "tblOnteWFMxZZqK8m",
          "mode": "id"
        },
        "addAllFields": false,
        "options": {}
      },
      "name": "Save Record2",
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 1,
      "position": [
        -6420,
        -17860
      ],
      "id": "b579b844-fbd0-4613-8b97-1b73a95ff539",
      "credentials": {
        "airtableTokenApi": {
          "id": "j0A9W6lTtOFzjTdr",
          "name": "Reels –ó–∞–≤–æ–¥"
        }
      }
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "https://api.autoposting.com/reels",
        "allowUnauthorizedCerts": true,
        "jsonParameters": true,
        "options": {},
        "bodyParametersJson": "{\n  \"caption\": \"{{$node['Caption Source'].json['description']}}\",\n  \"file\": \"output.mp4\"\n}"
      },
      "name": "Publish Reel2",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        -6200,
        -17860
      ],
      "id": "5138f4c1-bc64-4456-bb0f-57bd53decef6"
    },
    {
      "parameters": {
        "authentication": "airtableTokenApi",
        "operation": "update",
        "application": "airtable",
        "table": "history",
        "options": {}
      },
      "name": "Update Status2",
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 1,
      "position": [
        -6000,
        -17860
      ],
      "id": "cf30db1d-e7bb-4cd2-8a39-3defe3c9f555",
      "credentials": {
        "airtableTokenApi": {
          "id": "j0A9W6lTtOFzjTdr",
          "name": "Reels –ó–∞–≤–æ–¥"
        }
      },
      "disabled": true
    },
    {
      "parameters": {
        "authentication": "oAuth2",
        "operation": "list",
        "useQueryString": true,
        "queryString": "'1mwCMPgw6NjfEl4IiRIb1gkdFCM42gBXi' in parents and mimeType != 'application/vnd.google-apps.folder'",
        "options": {}
      },
      "name": "Get Reels2",
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 1,
      "position": [
        -6320,
        -18100
      ],
      "id": "25ba1fcd-dc16-451a-b2a7-01a4fb506204",
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "Vt1qBhoNFddDaUnc",
          "name": "Google Drive account"
        }
      }
    },
    {
      "parameters": {
        "operation": "download",
        "fileId": {
          "__rl": true,
          "value": "={{$node[\"Pick Random2\"].json[\"fileId\"]}}\n",
          "mode": "id"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        -5960,
        -18100
      ],
      "id": "5303c723-2714-49a2-ac85-c4deb0ed347f",
      "name": "Download from Drive2",
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "Vt1qBhoNFddDaUnc",
          "name": "Google Drive account"
        }
      }
    },
    {
      "parameters": {
        "content": "# 1. n8n.io\n# 2. airtable.com\n# 3. developers.facebook.com\n# 4. platform.openai.com\n# 5. console.cloud.google.com\n.\n# ID -\n# Secret - \n# Access Token - EAAKp3yN0oqIBO72LfFPVfRgs6N4jWuO2Ph3GxtkBuo1O4PILEhnZBdgdRX1hxZA7ZBr9c2PQmeJkb7ZCKrkZBLgRkszNLWXTMZCzW2c52UuLXit6ZBQK2vXQ99C3H4tCNSuYAGYCpL4z1VrrgVcYtmVAfhPOF47YvZCZCkOgxmMQl9a0ivOzywiMFNKXWMX3azAQeWhxBFxYqtzcbZBQZBU7VrFhf2GJkUZBEZCp99dGrFEYjINsLLLJFxwZDZD",
        "height": 960,
        "width": 640
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -5220,
        -18920
      ],
      "typeVersion": 1,
      "id": "73ee934b-f112-47cb-9e1f-03935593e0ff",
      "name": "Sticky Note2"
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "https://api.json2video.com/v2/movies",
        "responseFormat": "file",
        "jsonParameters": true,
        "options": {},
        "bodyParametersJson": "{\n  \"comment\": \"–¢–µ—Å—Ç–æ–≤–æ–µ –≤–∏–¥–µ–æ –∏–∑ n8n\",\n  \"resolution\": \"full-hd\",\n  \"draft\": true,\n  \"scenes\": [\n    {\n      \"elements\": [\n        {\n          \"type\": \"text\",\n          \"text\": \"–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!\",\n          \"style\": \"005\",\n          \"duration\": 5\n        }\n      ]\n    }\n  ]\n}",
        "headerParametersJson": "{\n  \"Content-Type\": \"application/json\",\n  \"x-api-key\": \"5QWRvH54aWMKmfeHGqoj0cLpukGYFbuNeKdFsTve\"\n}"
      },
      "id": "279974c4-c31e-444a-b812-bdfc8ff9efde",
      "name": "Create Video via json2video",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 2,
      "position": [
        -6880,
        -17860
      ]
    }
  ],
  "pinData": {},
  "connections": {
    "Cron4": {
      "main": [
        [
          {
            "node": "GPT Generate2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "GPT Generate2": {
      "main": [
        [
          {
            "node": "Caption Source2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Pick Random2": {
      "main": [
        [
          {
            "node": "Download from Drive2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Caption Source2": {
      "main": [
        [
          {
            "node": "Get Reels2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check Duplicate2": {
      "main": [
        [
          {
            "node": "Save Record2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Save Record2": {
      "main": [
        [
          {
            "node": "Publish Reel2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Reels2": {
      "main": [
        [
          {
            "node": "Pick Random2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download from Drive2": {
      "main": [
        [
          {
            "node": "Create Video via json2video",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create Video via json2video": {
      "main": [
        [
          {
            "node": "Check Duplicate2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Publish Reel2": {
      "main": [
        [
          {
            "node": "Update Status2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "5a0cc1ed-0ebe-472c-b532-bb270f60f282",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "03802800ec9728491c300edb92e0138d87d9dcbbfccb74620634ca050fae6138"
  },
  "id": "NnoYOzymkfuqYt8O",
  "tags": []
}
